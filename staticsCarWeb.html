<!DOCTYPE html>
<html>
    <head>
        <title>校车名单在线查看——Powered By 添洪帮</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="format-detection" content="telephone=no, email=no">
        <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
        <meta name="referrer" content="no-referrer-when-downgrade">
        <meta name="renderer" content="webkit">
        <meta name="keywords" content="校车名单在线查看,添洪帮">
        <meta name="application-name" content="校车名单在线查看">
        <link rel="apple-touch-icon" href="/512.png">
        <link rel="shortcut icon" href="/favicon.ico">
        <!--<link rel="stylesheet" href="/.css" media="print" onload='this.media="all"'>-->
		<style type="text/css">
		*{
			margin:0;
			padding:0
		}
		header{
			text-align:center;
			background-color:#00c5c5;
			color:#FFFFFF;
			font-size:3em;
			font-weight:bold;
			padding:0.5em 0;
		}
		section h1{
			padding:0.5em 0.5em 0.5em 1em;
			background-color:#ffbb00;
			font-size:2em;
			color:#FFFFFF;
		}
		section>div{
			width:90%;
			margin:1% 5%;
			box-shadow:5px 8px 10px 1px rgba(0,0,0,0.25);
			border-radius:2em;
			font-size:1.8em;
			margin-bottom:0.5em;
		}
		section>div div{
			margin:0.5em 0;
		}
		section>div div p{
			text-align:center;
		}
		section>div div p a{
			text-decoration:none;
			color:#000000;
			padding:0.5em 1em;
			border:1px solid #0ae2e2;
			border-radius:1em;
			text-align:center;
			margin-bottom:0.5em;
			display:inline-block;
			font-size:7vw;
		}
		section>div h2{
			color:#FFFFFF;
			border-radius:2em 1.5em 0 0;
			text-align:center;
			font-size:6vw;
		}
		.zaos{
			background-color:#00c5c5;
		}
		.xiawu{
			background-color:#b164bb;
		}
		.noZuoWei{
			border-color:#dadada;
			color:#dadada;
		}
		</style>
        <!--<script type="text/javascript" src=".js"></script>-->
		</head>
		<body>
			<header>
				天星学校校车名单在线查看系统
			</header>
			<!--注释  生成模板
			<section>
				<h1 id="A1A2A34242">座位号：A1A2A3</h1>
				<div>
					<h2 class="zaos">早上第1趟</h2>
					<div>
						<p><a href="tel:1234567890">401爱上放</a><a href="">401爱上放</a><a href="">401爱上放</a></p>
					</div>
				</div>
				<div>
					<h2 class="zaos">早上第2趟</h2>
					<div>
						<p><a href="tel:1234567890">401爱上放</a><a href="">401爱上放</a><a href="">401爱上放</a></p>
					</div>
				</div>
				<div>
					<h2 class="xiawu">下午第1趟</h2>
					<div>
						<p><a href="tel:1234567890">401爱上放</a><a href="">401爱上放</a><a href="">401爱上放</a></p>
					</div>
				</div>
				<div>
					<h2 class="xiawu">下午第2趟</h2>
					<div>
						<p><a href="tel:1234567890">401爱上放</a><a href="">401爱上放</a><a href="">401爱上放</a></p>
					</div>
				</div>
				<div>
					<h2 class="xiawu">下午第3趟</h2>
					<div>
						<p><a href="tel:1234567890">401爱上放</a><a href="">401爱上放</a><a href="">401爱上放</a></p>
					</div>
				</div>
			</section>
			-->
		</body>
		<script type="text/javascript">
		/*Tip:不知道如何批量输入数据的话，notepad++里面按住Alt并往下拖动鼠标即可，即可进行多行编辑*/
		//坐车人员数据，早上数据DataZao    晚上数据DataWan
		var DataZao='[data]                     '+
'104	林安琪	15107599092/n'+
'103	梁嘉增	18898341898/n'+
'404	文宇	15916079719/n'+
'303	何志航	13560488241/n'+
'103	农奕祺	13660708781/n'+
'201	郑佳齐	18520612159/n'+
'504	杨学硕	18927550053/n'+
'104	陈泰睿	18476826989/n'+
'701	饶洪华	13527681825/n'+
'101	胡文茜	13928894857/n'+
'101	吴婧琪	13560054101/n'+
'202	朱炫琪	13535561829/n'+
'102	黄艳梅	18934830452/n'+
'104	苏宇轩	13539456833/n'+
'104	魏通毅	17724550705/n'+
'103	周银婷	19876385803/n'+
'403	韩媛婷	19127470026/n'+
'201	郑明河	15876575143/n'+
'301	游雅倩	13922499093/n'+
'301	罗湘怡	13126464816/n'+
'403	罗振睿	13126464816/n'+
'203	韩浩成	18826437536/n'+
'203	陈泽锐	13640625950/n'+
'201	林杰钦	13640686467/n'+
'702	谭凯文	15382636555/n'+
'402	叶家豪	13724173353/n'+
'402	魏冰冰	18022488116/n'+
'501	魏成	18927580248/n'+
'501	陈钰淇	13922309608/n'+
'501	陆春娴	18074875797/n'+
'501	郭敬婷	13723512664/n'+
'504	吴梓豪	15907602374/n'+
'504	王淋淋	15917393410/n'+
'502	杜佳	13543614308/n'+
'301	钟沅钊	18922474912/n'+
'301	崔一帆	13560163650/n'+
'702	万能	13610078264/n'+
'802	付经心	13143343096/n'+
'802	付家欣	           /n'+
'403	陈文晞	13710055234/n'+
'802	马依萱	15920509207/n'+
'702	韦宇轩	15217715250/n'+
'[/data]                   /n'+
'[data]                    /n'+
'503	植泳煜	13711608787/n'+
'401	卢虹任	18024575299/n'+
'304	毛宇铭	15918592005/n'+
'401	傅梦圆	17576065436/n'+
'304	曹俊熙	13926062046/n'+
'402	杨子琴	15812468531/n'+
'403	谢鹏宇	13662848541/n'+
'702	黄远满	15915014873/n'+
'401	李佳	18826138592/n'+
'301	罗智宇	18125082637/n'+
'102	赖家烨	13728490905/n'+
'102	陈俊泽	18998383589/n'+
'504	张琦	13434389079/n'+
'504	陈嘉怡	16620176086/n'+
'303	赖嘉豪	13728490905/n'+
'301	陈雨萱	15768689410/n'+
'303	周承俊	13925921012/n'+
'504	黄正帆	13672423667/n'+
'304	黄宇轩	13924255630/n'+
'302	张锦航	18680257967/n'+
'603	许浩宇	13076801120/n'+
'202	常成熙	18708597322/n'+
'103	黄雨萍	13763321938/n'+
'103	张雨露	18127891370/n'+
'103	骆钦析	13326404404/n'+
'302	张逢茵	13049668463/n'+
'102	蔡卓林	15812870252/n'+
'303	蔡卓辉	15812870252/n'+
'401	陈雨轩	18279147673/n'+
'404	蒋欢欣	15800239162/n'+
'202	张玥	13078823782/n'+
'201	马艺轩	           /n'+
'201	梁宝文	13549329892/n'+
'304	吴伟茗	13826204980/n'+
'401	孟晋毅	17666580192/n'+
'403	张逢菁	13049668463/n'+
'403	朱名亮	13129135158/n'+
'203	虞智轩	13729851713/n'+
'702	邹锐	18702041082/n'+
'302	刘轩	13632010818/n'+
'604	陈嘉琦	13432031077/n'+
'[/data]';
var DataWan='[data]'+
'401	傅梦圆	17576065436/n'+
'402	杨子琴	15812468531/n'+
'403	谢鹏宇	13662848541/n'+
'302	张锦航	18680257967/n'+
'202	常成熙	18708597322/n'+
'103	梁嘉增	18898341898/n'+
'404	文宇	15916079719/n'+
'103	农奕祺	13660708781/n'+
'201	郑佳齐	18520612159/n'+
'504	杨学硕	18927550053/n'+
'702	杨晓茹	15814520032/n'+
'401	叶家豪	13711121029/n'+
'101	吴婧琪	13560054101/n'+
'101	胡文茜	13928894857/n'+
'202	朱炫琪	13535561829/n'+
'403	韩媛婷	19127470026/n'+
'402	陈文晞	13922316611/n'+
'702	韦宇轩	15217715250/n'+
'[/data]                   /n'+
'[data]                    /n'+
'401	文寒	18665696500/n'+
'602	王钰	13710156831/n'+
'304	吴伟茗	13826204980/n'+
'202	张玥	13078823782/n'+
'303	蔡卓辉	15812870252/n'+
'302	张逢茵	13049668463/n'+
'302	王毅轩	18617395868/n'+
'403	张逢菁	13049668463/n'+
'403	朱名亮	13129135158/n'+
'404	蒋欢欣	15800239162/n'+
'102	蔡卓林	15812870252/n'+
'401	谭绍均	           /n'+
'302	刘轩	13632010818/n'+
'401	孟晋毅	17666580192/n'+
'702	邹锐	18702041082/n'+
'203	虞智轩	13729851713/n'+
'604	陈嘉琦	13432031077/n'+
'201	梁宝文	13549329892/n'+
'[/data]                   /n'+
'[data]                    /n'+
'503	植泳煜	13711608787/n'+
'701	黄远满	15915014873/n'+
'304	毛宇铭	15918592005/n'+
'304	曹俊熙	13926062046/n'+
'401	卢虹任	           /n'+
'504	陈嘉怡	16620176086/n'+
'303	周承俊	13925921012/n'+
'102	赖家烨	13728490905/n'+
'102	陈俊泽	18998383589/n'+
'504	陈琦	13434389079/n'+
'303	赖嘉豪	13728490905/n'+
'301	陈雨萱	15118889198/n'+
'301	罗智宇	18125082637/n'+
'401	李佳	18826138592/n'+
'504	黄正帆	13672423667/n'+
'304	黄宇轩	13924255630/n'+
'303	何志航	13560488241/n'+
'103	骆钦析	13326404404/n'+
'201	张家瑞	15013315123/n'+
'103	张雨露	18127891370/n'+
'103	黄雨萍	13763321938/n'+
'302	张一凡	15537077787/n'+
'104	陈泰睿	18476826989/n'+
'702	魏成	18927580248/n'+
'104	苏宇轩	13539456833/n'+
'104	魏通毅	17724550705/n'+
'102	黄艳梅	18934830452/n'+
'104	林安琪	15107599092/n'+
'103	周银婷	19876385803/n'+
'103	黄子睿	15914361341/n'+
'103	甘翌朋	13929575856/n'+
'301	游雅倩	13922499093/n'+
'201	罗湘怡	13126464816/n'+
'401	罗振睿	13126464816/n'+
'301	钟沅钊	18922474912/n'+
'701	饶洪华	13527681825/n'+
'403	韩浩成	18826437536/n'+
'401	魏冰冰	18022488116/n'+
'504	杜佳	13543614308/n'+
'203	陈泽锐	15920346090/n'+
'501	陈钰淇	13922309608/n'+
'501	陆春娴	18074875797/n'+
'201	郑明河	15876575143/n'+
'601	吴梓豪	15907602374/n'+
'504	王淋淋	15917393410/n'+
'501	郭敬婷	13723512664/n'+
'304	张贤豪	           /n'+
'201	张贤威	           /n'+
'302	李俊鸿	13719127119/n'+
'203	林杰钦	13640676467/n'+
'[/data]';
			//false代表不在第一个后面直接加入进去,True代表在section后面直接添加,zaos代表早上的样式，xiawu代表下午的样式
			matchData(DataZao,'zaos',false);
			matchData(DataWan,'xiawu',true);
			
			//正则匹配数据，获取对应的班级，姓名，手机号码，并进行存储
			function matchData(data,zOrx,bool){
				//匹配最外层数据
				var guiz=/\[data\][\s\S]*?\[\/data\]/g;
				var matchRes;
				var i=1;//存储第几个
				while(matchRes=guiz.exec(data)){
					if (matchRes!=null){
						matchRes=matchRes+'';//转换成str
						//匹配具体的数据，如班级，姓名，手机号码，并进行分类，存储
						matchRes=matchRes.replace('[data]','')//去掉data
						matchRes=matchRes.replace('[/data]','')//去掉data
						matchRess=matchRes.replace(/\s*/g,'');//把空格去掉
						//alert(matchRess)
						//班级，姓名
						var mBjGuiz=/\d+[\u4e00-\u9fa5]+/g;
						var matchBanji;
						matchBanji=matchRess.match(mBjGuiz);
						//手机号码
						var msjGuiz=/1[3456789]\d{9}/g;
						var matchPhone;
						matchPhone=matchRess.match(msjGuiz);
						addData(matchBanji,matchPhone,zOrx,i,bool);
					}
					i+=1;
				}
				
			}
			
			//添加网页数据，动态生成相应的按钮
			function addData(matchBanji,matchPhone,zOrx,k,bool){ //按道理手机和班级姓名是一样数量的，所以手机这里不做验证了   k<0表示不是同一个座位趟次，大于0则为同一个座位不同趟次
				//因为校车座位是三排两列的，所以，要进行区分
				var xch=1;//1代表三个座位，2代表两个座位
				for(var i=0;i<matchBanji.length;i++){
					console.log(matchBanji[i]);
					console.log(matchPhone[i]);
					var yuanI;
					var zuowei;
					var zuoweiName;
					//创建元素插入
					var section = document.createElement('section');
					var h1 = document.createElement("h1");
					if (xch==1&&i+2==52||i+2==54){ //52的话说明座位不够了，最后面一排座位只有两座
						xch=2
					}
					if (xch==1){
						yuanI=i+3;
						xch=2;
						zuoweiName="A"+(i+1)+"(外)"+"A"+(i+2)+"(中)"+"A"+(i+3)+"(窗)";
						zuowei="A"+(i+1)+"A"+(i+2)+"A"+(i+3);
					}
					else{
						yuanI=i+2;
						xch=1;
						zuoweiName="A"+(i+1)+"(外)"+"A"+(i+2)+"(窗)";
						zuowei="A"+(i+1)+"A"+(i+2);
					}
					section.setAttribute('id',zuowei);
					h1.setAttribute('id',zuowei+zOrx+k);
					h1.innerText="座位号:"+zuoweiName;
					section.appendChild(h1);
					var div = document.createElement('div');
					var h2 = document.createElement("h2");
					var zTxt='';
					if (zOrx=='zaos'){
						zTxt="早上"
					}
					else{
						zTxt="下午"
					}
					h2.innerText=zTxt+"第"+k+"趟";
					h2.setAttribute('class',zOrx);
					var divdiv = document.createElement('div');
					var p = document.createElement('p');
					while (i<yuanI){
						var a = document.createElement('a');
						//console.log(matchBanji[i])
						if (typeof(matchBanji[i])=="undefined"){
							a.innerText="此座位无人";
							a.setAttribute('class','noZuoWei');
						}
						else{
							a.setAttribute('href','tel:'+matchPhone[i]);
							a.innerText=matchBanji[i]+"【A"+(i+1)+"】";
						}
						p.appendChild(a);
						i++;
					}
					i--;
					if(yuanI>54){
						//满座为54座，超载了，提示，并禁止且退出循环
						alert(zTxt+"第"+k+"趟"+"已经超载,到"+matchBanji[yuanI-3]+"超载了,不再进行划分位置！！！");
						return;
					}
					divdiv.appendChild(p);
					div.appendChild(h2);
					div.appendChild(divdiv);
					section.appendChild(div);
					if (bool){
						try{
							document.getElementById(zuowei).appendChild(div);
						}
						catch(e){
							console.log("出现错误:没有找到座位id:"+zuowei+","+e);
							document.getElementsByTagName("body")[0].appendChild(section);
							document.getElementById(zuowei).appendChild(div);
						}
					}
					if (k>1){
						document.getElementById(zuowei).appendChild(div);
					}
					else{
						if (!bool){
							document.getElementsByTagName("body")[0].appendChild(section);
						}
					}
				}
			}
		</script>
</html>
